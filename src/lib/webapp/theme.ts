import { DynamicScheme, Hct, MaterialDynamicColors, SchemeContent, argbFromHex } from "@material/material-color-utilities";
import type { Color, SerializedScheme } from "m3-svelte";

const colors: Color[] = [
  "primary",
  "onPrimary",
  "primaryContainer",
  "onPrimaryContainer",
  "inversePrimary",
  "secondary",
  "onSecondary",
  "secondaryContainer",
  "onSecondaryContainer",
  "tertiary",
  "onTertiary",
  "tertiaryContainer",
  "onTertiaryContainer",
  "error",
  "onError",
  "errorContainer",
  "onErrorContainer",
  "background",
  "onBackground",
  "surface",
  "onSurface",
  "surfaceVariant",
  "onSurfaceVariant",
  "inverseSurface",
  "inverseOnSurface",
  "outline",
  "outlineVariant",
  "shadow",
  "scrim",
  "surfaceDim",
  "surfaceBright",
  "surfaceContainerLowest",
  "surfaceContainerLow",
  "surfaceContainer",
  "surfaceContainerHigh",
  "surfaceContainerHighest",
  "surfaceTint",
];

const serializeScheme = (scheme: DynamicScheme) => {
  const out: Record<string, number> = {};
  for (const color of colors) {
    out[color] = MaterialDynamicColors[color as Color].getArgb(scheme);
  }
  return out as SerializedScheme;
};

export const getSchemes = (color: string, dark = false) => {
  const scheme = new SchemeContent(Hct.fromInt(argbFromHex(color)), dark, 0);
  const serializedScheme = serializeScheme(scheme);

  return {
    lightScheme: serializedScheme,
    darkScheme: serializedScheme,
  };
};

export const defaultTheme = {
  lightScheme: {
    primary: 4284309343,
    onPrimary: 4294967295,
    primaryContainer: 4294967295,
    onPrimaryContainer: 4283914329,
    inversePrimary: 4291217095,
    secondary: 4284374622,
    onSecondary: 4294967295,
    secondaryContainer: 4293453542,
    onSecondaryContainer: 4283058762,
    tertiary: 4284309343,
    onTertiary: 4294967295,
    tertiaryContainer: 4294967295,
    onTertiaryContainer: 4283914329,
    error: 4290386458,
    onError: 4294967295,
    errorContainer: 4294957782,
    onErrorContainer: 4282449922,
    background: 4294768888,
    onBackground: 4280032027,
    surface: 4294768888,
    onSurface: 4280032027,
    surfaceVariant: 4292928483,
    onSurfaceVariant: 4282664776,
    inverseSurface: 4281413680,
    inverseOnSurface: 4294242543,
    outline: 4285823096,
    outlineVariant: 4291086280,
    shadow: 4278190080,
    scrim: 4278190080,
    surfaceDim: 4292729305,
    surfaceBright: 4294768888,
    surfaceContainerLowest: 4294967295,
    surfaceContainerLow: 4294374386,
    surfaceContainer: 4294045164,
    surfaceContainerHigh: 4293650407,
    surfaceContainerHighest: 4293255905,
    surfaceTint: 4284309343,
  },
  darkScheme: {
    primary: 4294967295,
    onPrimary: 4281282865,
    primaryContainer: 4292138196,
    onPrimaryContainer: 4282269760,
    inversePrimary: 4284309343,
    secondary: 4291348166,
    onSecondary: 4281348144,
    secondaryContainer: 4282335039,
    onSecondaryContainer: 4292203731,
    tertiary: 4294967295,
    onTertiary: 4281282865,
    tertiaryContainer: 4292138196,
    onTertiaryContainer: 4282269760,
    error: 4294948011,
    onError: 4285071365,
    errorContainer: 4287823882,
    onErrorContainer: 4294957782,
    background: 4279505683,
    onBackground: 4293255905,
    surface: 4279505683,
    onSurface: 4293255905,
    surfaceVariant: 4282664776,
    onSurfaceVariant: 4291086280,
    inverseSurface: 4293255905,
    inverseOnSurface: 4281413680,
    outline: 4287533458,
    outlineVariant: 4282664776,
    shadow: 4278190080,
    scrim: 4278190080,
    surfaceDim: 4279505683,
    surfaceBright: 4282005817,
    surfaceContainerLowest: 4279111182,
    surfaceContainerLow: 4280032027,
    surfaceContainer: 4280295199,
    surfaceContainerHigh: 4280953386,
    surfaceContainerHighest: 4281676852,
    surfaceTint: 4291217095,
  },
};
